---
layout: single
title:  "배열 학습"
categories: TIL
tag: [Programming, TIL, CSharp]
toc: true
sidebar:
    nav: "counts"
typora-root-url: ../
---



# 배열(Array) 학습
- 학습 목표 : C#에서 활용 가능한 배열의 기능과 사용법에 대한 학습



## A. 문서 이력
- 최초 작성일 : 2025-11-26
- 최종 수정일 : 2026-01-14

- 작성 툴 : Typora, Visual Studio Code

- 정보 출처 : 경일게임IT아카데미 프로그래밍 4기 - 온보딩 캠프 8일차 및 본과정 4일차 강의 내용, [MSDN 컬렉션 설명](https://learn.microsoft.com/ko-kr/dotnet/csharp/language-reference/builtin-types/collections), [MSDN String 클래스 설명](https://learn.microsoft.com/ko-kr/dotnet/api/system.string?view=net-8.0) 등



## B. 배열에 대하여
- 컴퓨터공학에서 사용하는 자료구조의 하나
- 같은 타입의 데이터를 지정된 크기의 연속된 공간(크기 변경 불가)에 저장하는 컬렉션의 일종
- 순서대로 번호(인덱스)와 번호에 대응하는 데이터를 연속적인 형태로 구성한 구조
- 서로 관련있고, 자료형이 같은 경우 하나로 묶기 위해 배열을 사용
- 배열은 내부적으로 참조 타입 (값 대신 값을 가리키는 주소 저장)
  - 읽을 수 없는 값인 null 값을 넣을 수 있음
- 게임에서 배열 사용 예시 : 인벤토리의 슬롯, 타일 맵 생성, 캐릭터 스텟 관리, 스킬 슬롯 프리셋 등

- 사용 예시
  - 캐릭터 ID를 배열로 생성
  ```csharp
    static void Main(string[] args)
    {
      // string 배열 선언 및 명칭
      string[] characterIDs;

      // string 배열 초기화
      // new 키워드를 통해 메모리 구조에서 배열에 사용할 공간이 만들어짐
      // [] 안애는 필요한 변수의 개수가 들어감
      // 참조 타입이라 배열에는 값이 아닌 메모리 주소가 담김
      characterIDs = new string[5];

      // 배열의 인덱스는 0부터 시작, 인덱스의 최대 숫자는 '변수의 개수 - 1'
      characterIDs[0] = "HeroSSR0101";
      characterIDs[1] = "MonsterBoss0101";
      characterIDs[2] = "MonsterElite0101";
      characterIDs[3] = "MonsterNormal0101";
      characterIDs[4] = "MonsterNormal0102";
    }
  ```



## C. 다차원 배열과 가변 배열에 대하여
- **다차원 배열(Multi-dimensional Array)**
  - 2차원 이상의 차원의 크기를 가진 고정된 연속된 메모리 구조
  - m * n * l ... 크기를 가짐
  - 내부 메모리 주소 안에서 연속적으로 위치
  - 다차원 배열 예시
    ```csharp
      string[,] shortCutSkillNames;
      // 캐릭터 스킬을 
      //3행 4열의 배열 (뒤가 더 낮은 단위)
      shortCutSkillNames = new string[3,4]
      {
        {"분노의 일격","맹렬한 돌격","약점 찌르기","필살격"}, // 타격 스킬
        {"섬광 방패","보호막 전개","마법 방패 중첩","최후의 저항"}, // 버프 스킬
        {"긴급 치유","정신 가다듬기","분노","맹수의 눈"}  // 치유 스킬
      };
    ```

- **가변 배열(Jagged Array)**
  - 배열 내 배열이 있는 배열
  - 내부 배열의 길이와 외부 배열의 길이가 서로 다를 수 있음
  - 내부 배열과 외부 배열이 메모리 주소안에서 연속적으로 들어가진 않음
  - 가변 배열 예시
    ```csharp
      int[][] jaggedInt = new int[3][];

      jaggedInt[0] = new int[2];  // 내부 배열 길이가 모두 다름
      jaggedInt[1] = new int[4]; 
      jaggedInt[2] = new int[3]; 
    ```



## D. 배열과 관련된 주요 속성 매서드
- `배열명.Length`
  - 배열의 전체 크기를 구하는 속성
- `배열명.getLength(차원숫자)`
  - 다차원 배열에서 특정 차원(행)의 길이를 구하는 메서드
- `Array.Sort(배열명)`
  - 배열의 데이터를 오름차순으로 정렬
- `Array.Reverse(배열명)`
  - 배열의 순서를 거꾸로 뒤짚음
- `Array.Clear(배열명, 인덱스, 길이)`
  - 특정 범위의 데이터를 기본값으로 초기화
  - 값 타입의 기본값 : 0, 참조 타입의 기본값 : null
- `Array.Resize(ref 배열명, 배열크기숫자)`
  - 배열크기숫자 만큼의 크기를 가진 새로운 배열을 생성하고, 기존 배열을 참조 복사



## D. 배열을 활용한 클래스
- **String 클래스**
  - 텍스트 데이터를 처리하기 위한 클래스
  - 내부적으로 `char`의 배열로 만들어진 변경 불가능한(immutable) 배열
    - 한 번 생성된 문자열은 메모리 내에서 수정 불가
    - 문자열을 수정하는 것처럼 보이는 작업 (`+=` 등) 은 사실 **새로운 문자열 객체를 생성해 할당**하는 것 (문자열 작업이 많으면 순간적인 성능 문제 있을 수 있음)
  - 읽기 전용 인덱서이기에 `str[0]` 과 같이 인덱스로 문자를 읽을 수는 있지만, `str[0] = 'A'` 처럼 직접 수정은 불가능
  - 동일한 문자열 리터럴이 프로그램 내 여러 곳에서 사용된다면, 메모리 절약을 위해 하나의 인스턴스만 공유 (인턴풀링(Interning))


- **List<T> 클래스**
  - 제네릭을 사용해 특정 타입의 데이터를 순차 저장하는 **동적 배열 컬렉션**
  - 배열과 다르게 데이터가 추가되거나 삭제되면 자동으로 메모리 크기가 증감됨
  - 데이터를 자유롭게 추가, 삽입, 삭제, 수정 가능 (가변성 (Mutability))



<!---

- 메모리 영역
- 배열의 정의
  - 같은 타입의 데이터를 지정된 크기의 연속된 공간에 저장하는 컬렉션의 일종, (저장된 영역의 크기는 바꿀 수 없음)
  - 배열 선언하면 램에 올라감



- 배열 사용 방법
  - 1. 선언
  - 2. 선언 + 크기 지정
  - 3. 선언 + 크기 지정 및 값 초기화
  - 4. 배열 데이터 접근 방법
- 배열 사용 예시
  - 점수표, 게임 아이템 인벤토리



선언과 동시에 크기 지정도 가능
string[] characterIDs = new string[5];

선언 + 크기 지정 및 값 초기화
  이 때는 new 사용 안함 
int[] arr1 = new int[4];

인덱스로 접근
// 배열 자체에 접근
CW(characterIDs[])
// 배열의 해당 인덱스 값에 접근
CW(characterIDs[1])



 getLength 
- 다차원 함수의 길이를 나타낼 때 사용
- GetLength() : 배열의 전체 개수 ( 행 * 열 )
- - GetLength(0) : 행의 개수
- - GetLength(1) : 열의 개수 



// 처음부터 끝가지 알아서 돌려줌 (인덱스 값 수정은 안되고 읽기만 됨)
// 인덱스 값은 알 수 없음
// 찾아서 읽기만 할 때 사용
```
int[] arr = new int[4];

foreach(int value in arr)
{
  Console.WriteLine(value);
}
```



- 컬렉션의 정의

- 컬렉션의 종류(Collection Type)
  - 배열
  - 리스트
  - 딕셔너리
  - 해쉬셋
  - 큐
  - 스택



- 프로퍼티
  - 프로퍼티는 C#에서 데이터 필드(private field)의 값을 안전하게 읽거나 쓸 수 있도록 제공하는 특별한 클래스 멤버
  - 정보 은닉(Encapsulation)이라는 객체 지향 프로그래밍의 핵심 원칙을 구현하는 데 사용
    - 필드와 메서드의 결합: 겉으로는 필드처럼 보이지만, 실제로는 get (읽기) 및/또는 set (쓰기) 이라는 메서드(접근자)를 포함
    - 캡슐화 및 데이터 유효성 검사: 외부에서 클래스 내부의 private 필드에 직접 접근하는 것을 막고, 프로퍼티를 통해 접근을 제어합니다. 이 과정에서 유효성 검사(예: 나이가 음수가 아닌지 확인)나 특정 로직을 수행
    - 프로퍼티는 get과 set으로 구성됨, 그런데 setter를 지원하지 않음
    - 간편한 문법: 전통적인 Get/Set 메서드(GetLength(), SetLength())를 사용하는 대신, 변수 접근과 유사한 간결한 문법을 제공하여 코드의 가독성과 편의성을 높임
  - 대표적인 프로퍼티 종류
    - Length(길이를 int형으로 변환)
    - GetLength, GetLength(0)은 행(가로줄로 묶인 것), GetLength(1)은 열(세로줄로 묶인 것)
  - 2차원 배열의 정의
    - 우리가 아는 배열은 1차원 배열, n차열 배열도 만들 수 있음
      - string [,] shortCuts;
      - shortCuts = new string[3, 4];
  - 2차원 배열 사용법
    - 2차원 배열을 꺼내올 때는 이중 for문을 사용하는 것이 좋음

--->























